
{% block content %}

<h1>Université de Haute-Alsace</h1>

{% if user.user_type == 'student' %}
<table>
  <thead>
  <tr>
      <th colspan="2">Informations sur l'étudiant</th>
  </tr>
  </thead>
  <tbody>
  <tr>
      <td>Nom Prénom</td>
      <td>{{ user.last_name }} {{ user.first_name }} </td>
  </tr>
  <tr>
      <td>Numéro étudiant</td>
      <td> {{ user.username }} </td>
  </tr>
  <tr>
    <td>Classe</td>
    <td>{{ user_promo }}</td>
</tr>
  </tbody>
</table>

{% if no_note == False %}

{% for u in ues_list %}
{% with j=forloop.counter %}


  <table>
    <thead>
    <tr>
        <th colspan="2">UE</span></th>
        <th>Professeur</th>
        <th>Coefficient</th>
        <th>Moyenne</th>
    </tr>
    </thead>
    <tbody>
      
    <td rowspan="50"> {{ u.name }} </td>
      
   
    
    {% with subjlast=subj_list|slice:j|last %}
    {% for subj in subjlast %}
    {% with i=forloop.counter %}
    <tr>
        <td> {{ subj }} </td>
        <td> {{ teachers|slice:j|last|slice:i|last }}</td>
        <td>{{ subj.coeff }}</td>
          <td>{{ subj_average|slice:j|last|slice:i|last }}</td>
    </tr>
    {% endwith %}
    {% endfor %}
    {% endwith %}
    <tr>
      <td colspan="3">Total</td>
      <td class="total">{{ ues_average|slice:j|last }}</td>
    </tr>
    
   
  </tbody>
  </table>
  {% endwith %}
{% endfor %}
<table>
  <thead>
  <tr>
      <th colspan="5">Observations</th>
  </tr>
  </thead>
</table>
<style>
    body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f0f0f0;
    overflow:auto;
}


.container {
    display: flex;
    justify-content: center;
    align-items: flex-start;
    margin-top: 20px;
}

.sidebar {
    width: 50px;
    background-color: #0044cc;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
    height: 100vh;
}
.sidebar-button {
    background-color: #ffffff;
    color: #0044cc;
    padding: 10px 20px;
    margin: 10px 0;
    text-align: center;
    text-decoration: none;
    border-radius: 5px;
    width: 200px;
    box-sizing: border-box;
    border: 2px solid #0033a0 ;
}

.sidebar-button:hover {
    background-color: #0033a0;
    color: #ffffff;
}

.sidebar-item {
    margin: 15px 0;
    color: white;
    font-size: 24px;
    cursor: pointer;
}

.main-content {
    flex-grow: 1;
    padding: 20px;
    display: flex;
    flex-direction: column;
}
h1 {
    text-align: center;
    margin-bottom: 2rem;
}

table {
    width: 100%;
    border-collapse: collapse;
}

th,
td {
    padding: 0.5rem;
    border: 1px solid #ddd;
    text-align: left;
}

th {
    background-color: #ddd;
    font-weight: bold;
}

tr:nth-child(even) {
    background-color: #f2f2f2;
}

.total {
    font-weight: bold;
    font-size: 1.2rem;
}

.hidden {
    display:none;
}

.valider-btn {
    border-radius: 8px;
    height: 40px;
    width: 200px;
    font-size: 16px;
    margin: 20px auto 0;
    display: block;
    background-color: #007bff;
    color: #fff;
    border: none;
    cursor: pointer;
  }

  .valider-btn:hover {
    background-color: #0056b3;
  }


</style>
{% else %}
<div> Pas de notes pour le moment !</div>
{% endif %}
{% else %}
  <div>
    Vous n'êtes pas autorisé à accéder à cette page ! 
    </div>
{% endif %}
{% endblock %}
